"use strict";function loadMapScript(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=GMAP_FULL_URL,document.body.appendChild(e)}var PERSONALS={home:{title:"Home",lat:38.951979,"long":-94.837693,address:"21606 W 97th Terrace, Lenexa, KS 66220"},work:{title:"PayIt, LLC",lat:39.090509,"long":-94.589111,streetAddress:"1812 Broadway Blvd, Kansas City, MO 66213"},school:{title:"University of Kansas",lat:38.956572,"long":-95.244782,streetAddress:"1425 Jayhawk Blvd, Lawrence, KS 66045"}},FS_ID="1GOXWBOA2FOS31OFVOFRNSF0OKSXFZHDLNK000TL4UH2TREM",FS_SECRET="F0RQFWMRFTTC4VLCNEXZEG5OSY42YVCS4Z3JJ5AL0C40QPY3",FS_BASE_URL="https://api.foursquare.com/v2/venues/search",FoursquareService={getVenues:function(e){var o=FS_BASE_URL+"?client_id="+FS_ID+"&client_secret="+FS_SECRET+"&v=20130815&near=Kansas City, MO&limit=15&query="+e,a=[];$.getJSON(o,function(e){var o=e&&200===e.meta.code&&e.response.venues.length>0;o&&($.each(e.response.venues,function(e,o){var t={title:o.name,lat:o.location.lat,"long":o.location.lng,address:o.location.formattedAddress.join(", ")};a.push(t)}),GoogleMapsService.getMarkers(a))})}},GMAP_KEY="?key=AIzaSyCKioYCg26ODl5A4Z2K03OFkXJRT1mBpRk",GMAP_BASE_URL="http://maps.googleapis.com/maps/",GMAP_FULL_URL=GMAP_BASE_URL+"api/js"+GMAP_KEY+"&libraries=places&callback=GoogleMapsService.init",GMAP_QUERY_URL=GMAP_BASE_URL+"api/place/queryautocomplete/json"+GMAP_KEY+"&input=",DIMS={height:$(window).height(),width:$(window).width()},map=null,marker=null,GoogleMapsService={init:function(){var e=document.getElementById("map"),o={zoom:DIMS.width<662?10:12,center:new google.maps.LatLng(39.0997,(-94.5786)),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1};map=new google.maps.Map(e,o),this.getCurrentLocation();var a=map.getStreetView();a.addListener("visible_changed",function(){a.getVisible()?$("#searchbar").css("display","none"):$("#searchbar").css("display","flex")})},getMarkers:function(e){$.each(e,function(e,o){marker=new google.maps.Marker({title:o.title,position:new google.maps.LatLng(o.lat,o["long"]),map:map,animation:google.maps.Animation.DROP})})},getCurrentLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};marker=new google.maps.Marker({title:"You Are Here",position:new google.maps.LatLng(o),map:map,animation:google.maps.Animation.DROP})},function(){console.log("Oops, we were unable to retrieve your current location.")}):console.log("Your browser does not support geolocation.")}};loadMapScript();var Location=function(e){},ViewModel=function(){var e=this;e.searchAddress=ko.observable(""),this.searchLocation=function(){var o=e.searchAddress();FoursquareService.getVenues(o);e.searchAddress("")}};ko.applyBindings(new ViewModel);