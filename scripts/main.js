"use strict";function loadMapScript(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=GOOGLE_MAP_URL+GOOGLE_MAP_KEY+"&libraries=places&callback=GoogleService.init",document.body.appendChild(e)}var PERSONALS={home:{title:"Home",lat:38.951979,"long":-94.837693,streetAddress:"21606 W 97th Terrace",city:"Lenexa",state:"Kansas",zipCode:66220},work:{title:"PayIt, LLC",lat:39.090509,"long":-94.589111,streetAddress:"1812 Broadway Blvd",city:"Kansas City",state:"Missouri",zipCode:66213},school:{title:"University of Kansas",lat:38.956572,"long":-95.244782,streetAddress:"1425 Jayhawk Blvd",city:"Lawrence",state:"Kansas",zipCode:66045}},DIMS={height:$(window).height(),width:$(window).width()},GOOGLE_MAP_KEY="key=AIzaSyCKioYCg26ODl5A4Z2K03OFkXJRT1mBpRk",GOOGLE_MAP_URL="http://maps.googleapis.com/maps/api/js?",GOOGLE_MAP_QUERY="https://maps.googleapis.com/maps/api/place/queryautocomplete/json?"+GOOGLE_MAP_KEY+"&input=",map,marker,GoogleService={init:function(){var e={zoom:10,center:new google.maps.LatLng(38.951979,(-94.837693)),mapTypeControl:!1};DIMS.width<662&&(e.zoom=8),map=new google.maps.Map(document.getElementById("map"),e),this.getPersonalMarkers();var o=map.getStreetView();o.addListener("visible_changed",function(){o.getVisible()?$("#searchbar").css("display","none"):$("#searchbar").css("display","flex")})},getPersonalMarkers:function(){$.each(PERSONALS,function(e,o){marker=new google.maps.Marker({title:o.title,position:new google.maps.LatLng(o.lat,o["long"]),map:map,animation:google.maps.Animation.DROP})})},getCurrentLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude};marker=new google.maps.Marker({title:"You Are Here",position:new google.maps.LatLng(o),map:map,animation:google.maps.Animation.DROP}),map.setCenter(o)},function(){console.log("Oops, we were unable to retrieve your current location.")}):console.log("Your browser does not support geolocation.")},getLocation:function(e){var o=new google.maps.Geocoder,t=GOOGLE_MAP_QUERY+e;$.getJSON(t,function(e){$.each(e.predictions,function(e,t){o.geocode({placeId:t.place_id},function(e,o){o===google.maps.GeocoderStatus.OK?(map.setCenter(e[0].geometry.location),marker=new google.maps.Marker({map:map,position:e[0].geometry.location})):console.log("Geocode was not successful for the following reason: "+o)})})})}};loadMapScript();var Location=function(e){},ViewModel=function(){var e=this;e.searchAddress=ko.observable(""),this.searchLocation=function(){var o=e.searchAddress();GoogleService.getLocation(o);e.searchAddress("")}};ko.applyBindings(new ViewModel);